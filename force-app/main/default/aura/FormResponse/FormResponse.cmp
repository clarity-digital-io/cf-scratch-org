<aura:component controller="FormController" access="global" implements="lightning:actionOverride,forceCommunity:availableForAllPageTypes,force:lightningQuickAction,lightning:isUrlAddressable,force:appHostable,flexipage:availableForAllPageTypes">

    <aura:registerEvent name="formResponseEvent" type="c:FormResponseEvent"/>

    <aura:html tag="style">
        .slds-modal__container{ 
          height : auto; 
          width: 80%; 
          max-width: 100vh; 
        } 
        .modal-body{ 
          height : 90vh !important; 
          max-height: 70vh !important; 
        } 
        .slds-modal__footer{ 
          display: inline !important; 
        }
     </aura:html>

    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>

	<aura:attribute name="startTime" type="String" />

    <aura:attribute name="formId" type="String" default="default" />
    <aura:attribute name="preview" type="String" default="false" />
    <aura:attribute name="loading" type="Boolean" default="true" />

    <aura:attribute access="global" name="recordId" type="String" default="default" />
    <aura:attribute name="sObjectType" type="String" default="default" />
    <aura:attribute name="sObjectId" type="String" default="default" />
    <aura:attribute name="parameters" type="String" default="" />

    <aura:attribute name="formName" type="String" required="true" default="default" access="global" />

    <lightning:container src="{!$Resource.ClarityFormsResponse + '/index.html?recordId=' + v.recordId + '&amp;formName=' + v.formName + '&amp;formId=' + v.formId + '&amp;preview=' + v.preview + '&amp;' + v.parameters }" onmessage="{!c.handleMessage}" />

    <lightning:navigation aura:id="navService"/>
    <lightning:workspaceAPI aura:id="workspace" />
    <lightning:overlayLibrary aura:id="overlayLib"/>
	<lightning:empApi aura:id="empApi"/>

</aura:component>	
