<template>
  <lightning-card
    class="slds-card"
    title={question.forms__Salesforce_Object__c}
    icon-name="standard:record"
  >
    <template if:true={showRecordGroupForm}>
      <lightning-button
        label="Cancel"
        slot="actions"
        onclick={back}
      ></lightning-button>

      <lightning-record-edit-form
        object-api-name={question.forms__Salesforce_Object__c}
        onsuccess={handleSuccess}
      >
        <div class="slds-p-horizontal_small">
          <lightning-messages> </lightning-messages>

          <template if:true={recordGroupFields}>
            <template for:each={recordGroupFields} for:item="field">
              <lightning-input-field
                key={field.Id}
                field-name={field.forms__Salesforce_Field__c}
              >
              </lightning-input-field>
            </template>
          </template>

          <div class="slds-m-vertical_medium">
            <lightning-button
              class="slds-m-top_small"
              type="submit"
              variant="brand"
              label="Create new"
            >
            </lightning-button>
          </div>
        </div>
      </lightning-record-edit-form>
    </template>

    <template if:false={showRecordGroupForm}>
      <lightning-button
        label="New"
        slot="actions"
        onclick={newRecord}
      ></lightning-button>
      <div class="slds-p-horizontal_small">
        <lightning-datatable key-field="id" data={data} columns={columns}>
        </lightning-datatable>
      </div>
    </template>
  </lightning-card>
</template>
